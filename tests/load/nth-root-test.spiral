(program
  (import std)
  (fun root (n a)
    (fun iter (x)
      (var b (/ a (power (- n 1) x)))
      (var x-del (/ (- b x) n))
      (if (< (abs x-del) 0.000001) x (iter (+ x x-del))))
    (iter (* a 1.0)))
  (fun power (n a)
    (cond
      ((== n 0) 1)
      ((== n 1) a)
      ((== (mod n 2) 0) (square (power (div n 2) a)))
      (true (* a (square (power (div n 2) a))))))
  (fun square (a) (* a a))

  (println "powers")
  (println (power 2 10))
  (println (power 3 2))
  (println (power 1 33))

  (println "\nroots")
  (println (root 3 1000))
  (println (root 2 49))
  (println (root 4 256))

  (println "\npowered roots")
  (println (power 2 (root 2 2)))
  (println (power 3 (root 3 100)))
  (println (power 2 (root 2 13)))
  (println (power 5 (root 5 12345))))
